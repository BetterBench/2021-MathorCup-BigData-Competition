# 【 MathorCup杯大数据挑战赛 A题 二手车估价】初赛复赛总结、方案代码及论文



# 相关链接

[【初赛40页完整论文和代码】下载](https://mianbaoduo.com/o/bread/mbd-YpeVm5hx)

[【复赛42页完整论文和代码】下载](https://mianbaoduo.com/o/bread/YpiZk59p)

# 1 题目

## 1.1 初赛题目

赛道 A：二手车估价问题

随着我国的机动车数量不断增长，人均保有量也随之增加，机动 车以“二手车”形式在流通环节，包括二手车收车、二手车拍卖、二手 车零售、二手车置换等环节的流通需求越来越大。二手车作为一种特 殊的“电商商品”，因为其“一车一况”的特性比一般电商商品的交易要 复杂得多，究其原因是二手车价格难于准确估计和设定，不但受到车 本身基础配置，如品牌、车系、动力等的影响，还受到车况如行驶里 程、车身受损和维修情况等的影响，甚至新车价格的变化也会对二手 车价格带来作用。目前国家并没有出台一个评判二手车资产价值的标 准。一些二手车交易平台和二手车第三方估价平台都从自身的角度建 立了一系列估价方法用于评估二手车资产的价值。

在一个典型的二手车零售场景，二手车一般通过互联网等线上渠 道获取用户线索，线下实体门店对外展销和售卖，俗称 O2O 门店模式。门店通过“买手”从个人或其他渠道收购二手车，然后由门店定价 师定价销售，二手车商品和其他商品一样，如果定价太高滞销也会打 折促销，甚至直接以较低的价格打包批发，直至商品最终卖出。

基于以上背景，请你们团队根据附件给出的数据，通过数据分析 与建模的方法帮助二手车交易平台解决下面的问题：

初赛问题

问题 **1**：基于给定的二手车交易样本数据（附件 1：估价训练数据），选用合适的估价方法，构建模型，预测二手车的零售交易价格， 数据中会对 id 类，主要特征类等信息进行脱敏。主要数据包括车辆基础信息、交易时间信息、价格信息等，包含 36 列变量信息，其中15 列为匿名变量。字段如下：

![1](https://img-blog.csdnimg.cn/951f3d6f5147425a8deb5fbe49278bd0.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmV0dGVyIEJlbmNo,size_18,color_FFFFFF,t_70,g_se,x_16#pic_center)

 

请采用附件 1 中的“估价训练数据”（带标签）训练模型和测试模型，自行设置测试集，使用训练完成后的模型对附件 2 中的“估价验证数据”（不带标签）进行预测，并将预测结果保存在附件 3“估价模型结果”文件中，注意不要修改格式，单独上传到竞赛平台。

<img src="https://img-blog.csdnimg.cn/66376b5d60ed4a19879603bcae7f804e.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmV0dGVyIEJlbmNo,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" />

问题 **2**：在门店模式中，车辆在被“买手”收车以后，会进入门店进行售卖，车辆能否成功交易，除了取决于销售的谈判技巧，更重要 的是车辆本身是否受消费者青睐，价格是否公道。假设你们是门店的 定价师，请你们结合附件 4“门店交易训练数据”对车辆的成交周期（从车辆上架到成交的时间长度，单位：天）进行分析，挖掘影响车辆成 交周期的关键因素。假如需要加快门店在库车辆的销售速度，你们可 以结合这些关键因素采取哪些行之有效的手段，并进一步说明这些手 段的适用条件和预期效果。

问题 **3**：依据给出的样本数据集，你们觉得还有哪些问题值得研究，并给出你们的思路？

将问题 1、2、3 的解决过程写成一篇论文，明确你们的思路、模型、方法和结果。



## 1.2 复赛题目

题目
问题一：在初赛问题 2 的基础上，如果需要你们对车辆的成交周期进行准确预估，你们会采取什么方式建模？请你们使用附件 4“门店交易训练数据”构建交易周期预测模型，并对附件 5“门店交易验证数据”进行预测，并将预测结果保存在附件 6“门店交易模型结果”文件中，注意不要修改格式。其中附件 5“门店交易验证数据”只包括附件 4“门店交易训练数据”前 1 至 4 个字段。附件 5 的所有 carid 等相关信息都包含在附件2“估价验证数据”中。

问题二：车辆在门店售卖过程中，除了要对在库车辆未来成交周期准确预测，更需要对库存（假设门店在评估周期内场地和工作人员情况保持不变）进行有效管理，以保障在成本（车辆有资金占用成本，停车位占用成本）最小化的情况下，最大化门店的销售利润。车辆的价格是影响车辆成交非常重要的因素，门店在做库存管理时，需要根据在库车辆情况、新收车辆情况，对车辆进行销售定价或调价，一方面使得热销车辆以更合适的价格成交，保全门店利润，同时也要对滞销车辆进行降价促销，以避免更大的损失，基于此，假设你们是门店的店长，你们能决策的是何时对某个车辆是否进行调价，以及调整多大幅度，以保障门店的经营目标（最小化成本的情况下，最大化门店毛利润）达成，这里不考虑员工的人力成本等成本。请你们自己抽象问题的数学模型描述，构建门店经营模型，并给出模型的求解思路和算法步骤，这里假设经营目标一个月评估一次。

根据问题 1、2 的解答完善初赛论文，明确你们的思路、模型、方法和结果。




# 2 思路总结

## 2.1 初赛

**针对问题一：** 为了保证数据质量，首先需要对数据进行初步探索，包括查看数据分布、缺失比例、异常值，通过数据预处理，筛选出训练集和测试集分布差异较大的数据，并且排除缺失比例大于90%的特征，其中价格存在偏离较大的异常样本值，进行剔除，对缺失的离散特征样本进行众数填充。其次通过特征工程，对类别变量进行有序编码，对时间变量提取时序特征以及合理的构造交叉特征等工作，最后建立机器学习模型，并且使用五折交叉验证防止模型单次划分过拟合，通过对比五种模型，其中**XGBoost**、**CatBoost**、**LightGBM**表现较好，Accuracy精度能达到**86%**以上，因此利用该三种模型的结果采用加权平均进行融合，提高模型精度。

**针对问题二：**第一小问需要挖掘影响成交周期的关键因素，首先对数据集进行预处理，将最后一次降价时间作为计算成交周期的开始时间，然后根据成交时间与上架时间的差值计算出**交易周期**。其次建立车辆的原始属性特征，不包括匿名特征，以及构造降价次数和降价幅度两个特征。通过斯皮尔曼相关性筛选出与交易周期相关的12个关键因素，其中可人为可调整的有车辆所在城市、展销年份、降价次数和价格四个因素。第二小问，根据影响交易周期的关键因素，设计加快销售单定价策略。我们提出一个基于聚类的**多元回归定价策略**。首先，根据交易周期将数据集划分为第一周售出、第二周之后售出和没卖出三种，只对第一周销售出的数据进行建模。其次，利用**Kmeans++聚类** 算法将第一种数据集分为三类，对每一类拟合一个多元回归方程。使用SPSS软件回归分析求出回归系数、相关系数R方、P值、估计误差方差S2和VIF值，判别出回归方程的合理性，最后，通过P值影响价格的显著性和VIF值去除共线性自变量，确定回归方程的系数。此外，我们根据其他三个影响交易周期的关键因素，提出另外三个可加快销售的方案。

**针对问题三：** 我们根据已有数据集，研究了用户的消费属性，首先分析出热销车辆和滞销车辆的共性，分析得出二手车热销车辆的共同特点主要是品牌方面、外形和内部损耗情况等方面。其次根据热销车辆和滞销车辆两者差异，提出可加快销售的建议。第一，可以通过合法改变车辆配置，包括外形特征，内部结构等属性，迎合市场需求。第二，根据市场行情制定合适的价格。



## 2.2 复赛

**针对问题一：** 本文同时建立了**全连接神经网络**和五种机器学习的交易周期回归预测模型进行对比分析。首先计算每个样本的交易周期，其次构造了降价次数和降价幅度两个特征，最后对上架时间、更新时间进行提取年月日特征，作为数据预处理后的数据集。以平均绝对误差*MAE*作为评价指标，通过对比，全连接神经网络回归模型*MAE*在**0.1**左右，机器学习回归模型*MAE*在**0.9**左右。最后选择表现较好的神经网络作为预测模型，预测附件5并输出保存为附件6。

**针对问题二：** 本文建立了一个销售利润最大化的**非线性规划模型**。首先将根据问题一的模型预测车辆样本的交易周期，按照预测的交易周期分为热销车和滞销车，并分别统计每类车的库存量，为两类车建立一个最大化利润为目标值的目标函数，并以存储成本、资金占用成本、车辆进价、降价幅度、降价次数、库存量以及交易周期之间的关系作为约束条件。约束条件包括存储量与交易周期的关系方程、销售收入与车辆售价的关系方程、库存成本与交易周期的关系方程、资金占用成本与车辆进价的关系方程以及交易周期的时间。解出的值是在最大利润的情况下，每一类车降价的次数和降价的幅度百分比。每辆车总的**降价幅度**为降价次数、单次降价幅度百分比与上架价格的乘积。每次**降价时间**为30天除以降价次数再加上车辆上架时间。最后用附件1和附件4的数据集进行仿真测试模型，并以**改进的粒子群最优化算法**进行求解，该模型相比较于原始数据集的销售策略提高了**6.63%**的销售利润，验证了该门店经营模型的可行性。





# 3 结束语

（1）打比赛，队友的选择非常重要。我弱项是论文排版，我主要负责数学建模和代码实现，我的另外两个队友，小明擅长作图和论文排版，小潘擅长代码实现、数学建模、写作。拿到赛题后，我们先各自看2个小时，再上腾讯会议进行讨论分析思路方案，并安排各自的任务，特别是要去搜集相关的赛题资料和论文，设定一个deadline，查找资料后再讨论。一般第一次讨论结束后，我们立马就可以做完数据分析，然后再第二次讨论的时候，就能出个大概的方向，并找到能参考的资料。在第三次讨论结束后，接下来就是我和小潘写开始建模，并写代码进行实现，并告知小明用的什么模型，小明开始写论文初稿，他会先搞一个模板和论文框架，我来调整论文的写作框架，然后他找到我用的模型的基本理论、论文的背景插入到论文中。不停的反复迭代，初期我会用python作数据草图。最后代码实现写完后，我们开始三个人来写论文。首先用origin重新绘制数据图，开始用Visio绘制流程图，做数据表格插入到论文中，完善数学模型的部分，先写结论，再浓缩结论写摘要，插入参考文献。最后进行论文的排版以及图片中字体的精调，一般会用到PS。完成整体排版后，生成PDF，共享屏幕三个人同时浏览检查错误，然后无误后提交。

（2）用到工具：VScode写python代码、WPS编辑论文排版、Typora写作、Origin(WIndows)和Scidavis(Mac OS)绘制数据图、Visio绘制流程图、Photoshop 精修图片、SPSS对应分析和多元线性回归分析 、MATLAB跑一些算法、Mathtype和Axmath编辑公式、语雀知识库文档团队协作。

（3）赛题完整的方案详细介绍只有在论文中才能讲清楚，请下载完整论文查看

